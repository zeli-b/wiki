**그라브**(Grav) 또는 **갈**(喝)은 [[국가/퇴틀러 연합/에철리오트|에철리오트]]의 보드게임이다.

## 준비물

그라브의 보드는 **그라뷸리엔**(Gravülien)이라고 불리고, 그라브의 진행 시간에 따라 다르지만 주로 23x23, 17x17, 13x13, 7x7 정도의 소수 행렬을 갖는 바둑판 형태이다.

그라브의 각 행과 열이 만나는 부분에는 홈이 파져있어 동그란 공을 넣을 수 있게 되어있으며, 이 홈에는 **그라소샤**(Grasôxa)라고 하는 작은 공을 넣을 수 있다. 그라소샤는 색에 따라 구분되기도 하며 모양에 따라 구분되기도 한다.

### 유래

원래 그라뷸리엔과 그라소샤는 약국에서 사용하는 약통과 약에서 유래한 것이다. 정사각형으로 나누어진 칸에 각각 형태가 다른 약들을 넣어서 구분하던 것이 놀이 도구의 형태로 만들어진 것이 그라뷸리엔과 그라소샤이다.

### 게임 목표
플레이어는 정해진 규칙 내에서 자신의 그라소샤(돌)를 그라뷸리엔(게임판)에 놓습니다. 게임 종료 시, 그라뷸리엔에 가장 많은 그라소샤를 놓은 플레이어가 승리합니다.

### 준비물
* **그라뷸리엔 (Gravülien):** 홈이 파인 정사각형 격자 게임판 (예: 7x7, 13x13, 17x17, 23x23 등 소수 행렬). 각 홈에는 그라소샤 하나를 놓을 수 있습니다.
* **그라소샤 (Grasôxa):** 여러 개의 작은 공 모양의 돌. 플레이어 간 구분을 위해 색이나 모양이 다를 수 있습니다.

### 상의 (규칙 설정)
게임 시작 전, 다음 매개변수 `a, b, c, d, e`의 값이 (예: 카드 뽑기, 주사위 굴림, 합의 등을 통해) 무작위로 설정됩니다. 이 값들은 게임 중 모든 플레이어가 따라야 할 배치 규칙을 결정합니다.

* **연속 규칙:** 한 플레이어는 자신의 그라소샤를 그라뷸리엔에 놓았을 때, 그 결과로 **임의의 그라소샤**가 한 직선(가로, 세로, 대각선) 위에서 **동일한 간격으로 `a`개를 초과하여 배열되는** 상태를 만들 수 없습니다. 즉, 동일한 간격(중간에 빈칸이 있어도 됨)을 두고 한 직선 위에 놓인 같은 종류의 돌은 최대 `a`개까지만 허용됩니다. (`a+1`개 이상이 동일한 간격으로 배열되는 상태를 만드는 플레이어의 수는 규칙 위반입니다.)
    * *예시:* `a=3`일 때, `X . X . O` (간격 2)는 허용됩니다. 하지만 여기에 같은 간격(간격 2)으로 X를 추가하여 `X . X . O . X`를 만드는 것은 규칙 위반입니다. 마찬가지로 `X X X` (간격 1)는 허용되지만, `X X X X`를 만드는 것은 규칙 위반입니다.
    * *예시:* `a=3`일 때, `X . O X X . . O`와 같은 배치를 만들 수 있습니다. 한 직선 상에 있는 돌들의 배치지만, 같은 간격으로 연속되는 것은 최대 길이가 3이므로 허용됩니다.
* **밀도 규칙:** 그라뷸리엔 위의 임의의 `b x b` 정사각형 구역 안에는 그라소샤가 색이나 종류에 관계없이 총 **`c`개까지만** 놓일 수 있습니다. (즉, 해당 구역 안에 `c+1`개 이상의 그라소샤가 있으면 규칙 위반입니다.)
* **거리 규칙:** (첫 번째 그라소샤를 제외하고) 그라소샤를 놓을 때, 바로 직전에 그라뷸리엔에 놓인 그라소샤로부터 계산된 택시 거리(맨해튼 거리)가 **`d`칸 이상 `e`칸 이내**인 위치에만 자신의 그라소샤를 놓을 수 있습니다. (즉, `d ≤ 거리 ≤ e` 여야 합니다. 첫 번째 그라소샤는 이 규칙의 제한을 받지 않고 어디든 놓을 수 있습니다.)
    * 택시 거리: 두 칸 (x1, y1)과 (x2, y2) 사이의 거리는 `|x1-x2| + |y1-y2|`로 계산됩니다.

* **보너스 턴 규칙:** 한 플레이어가 자신이 놓은 그라소샤로 인해, 그라뷸리엔 위의 **그라소샤 4개 이상**(색이나 종류 무관)이 **임의의 한 점을 기준**으로 완벽한 **점대칭 형태**를 이루게 되면, **그렇게 완성된 점대칭 형태의 개수만큼 보너스 턴을 선언할 수 있습니다.** (예: 한 번의 수로 2개의 다른 점대칭 형태가 동시에 완성되었다면, 2번의 추가 턴을 얻을 수 있습니다.)
	* 점대칭 형태는 가능한 한 큰것이어야 하며, 점대칭 구조를 부분으로 하는 큰 점대칭 구조가 존재할 때 작은 점대칭 구조는 인정하지 않습니다.
    * 대칭의 기준점은 그라뷸리엔의 격자 교차점이 아니어도 되며, 해당 그라소샤들의 기하학적 대칭 중심점을 의미할 수 있습니다. (점대칭 여부 판정은 모든 참여자가 동의할 수 있는 명확한 기준에 따릅니다.)

* **파라미터에 대한 설명 (난이도 참고):**
    * $a \geq 3$: 낮을수록 어려움 (허용되는 동일 간격 연속 돌 개수 감소).
    * $b\geq 2$: 높을수록 어려움 (밀도 확인 범위 증가 - 단, `c`와의 관계에 따라 영향이 다를 수 있음).
    * $1 < c \leq b^2$: 낮을수록 어려움 (밀도 내 허용 돌 개수 감소).
    * $e - d \geq 0$: 낮을수록 어려움 (허용 거리 범위 폭 감소).
    * $e \geq d$: 낮을수록 어려움 (허용 거리 값 자체가 작아짐).

### 진행

1.  **시작:** 아무 플레이어나 원하는 빈 홈에 첫 번째 그라소샤를 놓는 것으로 게임을 시작합니다. 이후 시계방향(또는 합의된 순서)으로 차례를 진행하며 플레이어 순서(선발, 후발)가 정해집니다.
2.  **자신의 차례:** 플레이어는 자신의 차례에 위 "상의" 단계에서 정해진 모든 규칙(연속, 밀도, 거리)을 준수하여 빈 홈에 자신의 그라소샤 1개를 놓습니다.
3.  **"갈!" (Grav) 외침 – 규칙 위반 지적:**
    * 만약 한 플레이어가 방금 상대방이 놓은 수가 "상의" 단계에서 정해진 규칙 중 하나라도 위반했다고 판단하면, 즉시 "갈!"이라고 외칩니다.
    * 3명 이상이 플레이하는 경우, 먼저 갈을 외친 사람이 갈의 책임과 보상을 가집니다.
    * **"갈!" 지적이 정확했을 경우:**
        1.  규칙을 위반한 상대방은 방금 놓으려던 그라소샤를 그라뷸리엔에 놓을 수 없습니다 (해당 수는 무효 처리됩니다).
        2.  상대방은 이번 턴을 즉시 상실합니다.
        3.  **페널티:** "갈!"을 외친 플레이어는 규칙을 위반했던 상대방이 그라뷸리엔 위에 이미 놓아둔 그라소샤 중 하나를 지정하여 제거합니다. 제거된 그라소샤는 게임에서 제외됩니다.
        4.  턴은 "갈!"을 외친 플레이어에게로 넘어갑니다.
    * **"갈!" 지적이 틀렸을 경우 (상대방이 규칙을 위반하지 않았는데 "갈!"을 외친 경우):**
        1.  상대방이 놓은 수는 유효하며 그라뷸리엔 위에 그대로 유지됩니다.
        2.  "갈!"을 외친 플레이어는 자신의 다음 정규 턴에 그라소샤를 놓을 수 없습니다 (한 턴을 쉬게 됩니다). 상대방의 턴은 정상적으로 종료되고, 다음 순서의 플레이어에게 턴이 넘어갑니다 (2인 게임의 경우, 다시 상대방의 턴이 됩니다).
4.  **패스 (Pass):**
    * 플레이어는 자신의 차례에 그라소샤를 놓는 대신 "패스"를 선언할 수 있습니다. 이는 규칙상 놓을 수 있는 유효한 곳이 없거나 전략적인 판단에 따른 선택일 수 있습니다.
    * 보너스 선언으로 얻어진 턴에서는 패스할 수 없습니다. 그라뷸리엔의 어떤 곳에든 보너스를 선언한 만큼 무조건 돌을 두어야 합니다.

### 종료
* 모든 플레이어가 연속해서 "패스"를 선언하면 게임이 즉시 종료됩니다. (예: 2인 게임에서 한 플레이어가 패스하고, 다음 플레이어도 패스하면 게임 종료)
* 게임 종료 시, 그라뷸리엔 위에 자신의 그라소샤를 가장 많이 놓은 플레이어가 승리합니다. 만약 그라소샤 수가 같다면, 게임 시작 시 정해진 플레이 순서상 더 나중에 플레이한 사람(후발주자)이 승리합니다.


## 게임 예시

![[static/그라브 예시.jpeg]]

- 32번 수에서 `a=3`을 위반한다. 갈 선언이 가능한 부분.

#스치 #퇴틀러 